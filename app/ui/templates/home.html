<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>M4RTech Scan Dashboard</title>

  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 24px; }
    .row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    table { border-collapse: collapse; width: 100%; margin-top: 16px; }
    th, td { border-bottom: 1px solid #eee; padding: 10px; text-align:left; }
    th { font-size: 12px; text-transform: uppercase; letter-spacing: .06em; color: #555; }
    .pill { padding: 2px 10px; border-radius: 999px; font-size: 12px; display:inline-block; }
    .ok { background:#e8fff0; }
    .warn { background:#fff6e5; }
    .bad { background:#ffeaea; }
    a { color: inherit; }
    .muted { color:#666; font-size: 12px; }
    input[type="date"] { padding: 8px; }
    .card { border:1px solid #eee; border-radius: 14px; padding: 16px; }
  </style>
</head>
<body>
  <div class="row">
    <h2 style="margin:0;">Scan Dashboard</h2>
    <span class="muted">M4RTech</span>
  </div>

  <div class="card" style="margin-top:16px;">
    <div class="row">
      <label class="muted">Day</label>
      <input
        type="date"
        name="day"
        value="{{ day }}"
        hx-get="/ui/partials/routes"
        hx-target="#routes"
        hx-trigger="change"
      />
      <span class="muted">Auto refresh: 5s</span>
    </div>

    <div id="routes"
         hx-get="/ui/partials/routes?day={{ day }}"
         hx-trigger="load, every 5s">
      {% include "partials/routes_table.html" %}
    </div>
  </div>
</body>
</html>
